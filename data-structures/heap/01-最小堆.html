<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /****
     * 数组方式
     */

    compareConst = {
      less: -1,
      bigger: 1,
      equal: 0
    }

    class MinHeap {

      constructor() {
        this.heap = [];
      }

      compareFn(a, b) {
        if (a === b) {
          return compareConst.equal;
        }
        return a > b ? compareConst.less : compareConst.bigger;
      }

      getLeftIndex(index) {
        return 2 * index + 1;
      }

      getRightIndex(index) {
        return 2 * index + 2;
      }

      getParentIndex(index) {
        return Math.floor((index - 1) / 2);
      }

      swap(array, a, b) {
        const temp = array[a];
        this.heap[a] = this.heap[b];
        this.heap[b] = temp;
      }
      insert(node) {
        if (node !== null) {
          this.heap.push(node);

          //和所以父级比，如果说比父级小，就要交换位置 
          this.shiftUp(this.heap.length - 1);
          return true;
        }
        return false;
      }

      shiftUp(index) {

        let parentIndex = this.getParentIndex(index);
        while (
          index > 0 &&
          this.compareFn(this.heap[parentIndex], index) === compareConst.less
        ) {
          this.swap(this.heap, parentIndex, index);
          index = parentIndex;
          parentIndex = this.getParentIndex(index);
        }
      }

      extract() {
        
      }
 
    }

    let myMinHeap = new MinHeap();
  </script>
</body>

</html>
